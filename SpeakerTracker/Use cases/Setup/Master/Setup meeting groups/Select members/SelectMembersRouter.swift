//
//  SelectMembersRouter.swift
//  SpeakerTracker
//
//  Created by Warwick McNaughton on 8/09/18.
//  Copyright (c) 2018 Warwick McNaughton. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

protocol SelectMembersRoutingLogic {
    func returnToSource(memberIDs: [UUID]?)
}

protocol SelectMembersDataPassing {
    var dataStore: SelectMembersDataStore? { get }
}


class SelectMembersRouter: NSObject, SelectMembersRoutingLogic, SelectMembersDataPassing {
    weak var viewController: SelectMembersViewController?
    var dataStore: SelectMembersDataStore?
  
  
    // MARK: Routing
    
    func returnToSource(memberIDs: [UUID]?) {
        if memberIDs != nil {
            dataStore!.memberIDs = memberIDs
        }
            if  viewController?.sourceAddVC != nil {
                var destinationDS = viewController?.sourceAddVC!.router?.dataStore
                passDataToAddMeetingGroupDataStore(source: dataStore!, destination: &destinationDS! )
                 viewController!.sourceAddVC!.router!.returnFromSelectMembers(memberIDs: memberIDs)
            }
            else if  viewController?.sourceEditVC != nil {
                var destinationDS = viewController?.sourceEditVC!.router?.dataStore
                passDataToEditMeetingGroupDataStore(source: dataStore!, destination: &destinationDS! )
                viewController!.sourceEditVC!.router!.returnFromSelectMembers(memberIDs: memberIDs)
            }
            

    }
    
    func passDataToAddMeetingGroupDataStore(source: SelectMembersDataStore, destination: inout AddMeetingGroupDataStore ) {
        destination.memberIDs = source.memberIDs
    }
    
    func passDataToEditMeetingGroupDataStore(source: SelectMembersDataStore, destination: inout EditMeetingGroupDataStore ) {
        destination.memberIDs = source.memberIDs
    }
}
